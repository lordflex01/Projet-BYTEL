<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Bouygues Telecom</title>

		{% block stylesheets %}

			<!-- fav icon for website -->
			<link
			rel="icon" type="image/png" href="{{asset ("assets/img/Bouygues_Télécom.gif")}}">
			<!-- css header -->
			<link
			rel="stylesheet" href="{{asset ("assets/plugins/fontawesome-free/css/all.css")}}">
			<!-- overlayScrollbars -->
			<link
			rel="stylesheet" href="{{asset ("assets/plugins/overlayScrollbars/css/OverlayScrollbars.min.css")}}">
			<!-- css starter page -->
			<link rel="stylesheet" href="{{asset ("assets/css/styles.css")}}">


		{% endblock %}
	</head>
	<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed">
		<div
			class="wrapper">

			<!-- Navbar -->
			<nav
				class="main-header navbar navbar-expand navbar-white navbar-light">
				<!-- Left navbar links -->
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" data-widget="pushmenu" href="#" role="button">
							<i class="fas fa-bars"></i>
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-widget="navbar-search" href="" role="button">
							<div class="navbar-search-block">
								<form class="form-inline">
									<div class="input-group input-group-sm">
										<input class="form-control form-control-navbar" type="Rechercher" placeholder="Rechercher" aria-label="Rechercher">
										<div class="input-group-append">
											<button class="btn btn-navbar" type="submit">
												<i class="fas fa-search"></i>
											</button>

										</div>
									</div>
								</form>
							</div>
						</a>

					</li>
				</ul>

				<!-- Right navbar links -->
				<ul class="navbar-nav ml-auto">
					<!-- Navbar Search -->


					<!-- Messages Dropdown Menu -->
						<li class="nav-item dropdown"> <a class="nav-link" data-toggle="dropdown" href="#">
							<i class="far fa-comments"></i>
							<span class="badge badge-danger navbar-badge"></span>
						</a>
						<div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
							<div class="dropdown-divider"></div>
							<a href="#" class="dropdown-item dropdown-footer">Voir tous les messages</a>
						</div>
					</li>
					<!-- Notifications Dropdown Menu -->
					<li class="nav-item dropdown">
						<a class="nav-link" data-toggle="dropdown" href="#">
							<i class="far fa-bell"></i>
							<span class="badge badge-warning navbar-badge"></span>
						</a>
						<div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
							<div class="dropdown-divider"></div>
							<a href="#" class="dropdown-item dropdown-footer">Voir toutes les notifications</a>
						</div>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-widget="fullscreen" href="#" role="button">
							<i class="fas fa-expand-arrows-alt"></i>
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_logout') }}">
							<i class="fas fa-sign-out-alt"></i>
							Déconnexion
						</a>

					</li>
				</ul>
			</nav>
			<!-- /.navbar -->

			<!-- Main Sidebar Container -->
			<aside
				class="main-sidebar sidebar-dark-primary elevation-4">
				<!-- Brand Logo -->
				<a href="/index" class="brand-link">
					<img src="{{asset ("assets/img/bouygues_Télécom.gif")}}" alt="Bouygues Telecom" class="brand-image img-circle elevation-3">
					<span class="brand-text">Bouygues Telecom</span>
				</a>

				<!-- Sidebar -->
				<div
					class="sidebar">
					<!-- Sidebar user panel (optional) -->
					<div class="user-panel mt-3 pb-3 mb-3 d-flex">
						<div class="user-panel-icon">
							<a class="nav-link">
								<img src="{{asset ('/uploads/' ~ app.user.image.name)}}" class="img-circle elevation-2" alt="Image" width="30">
							</a>

						</div>
						<div class="info">
							<a href="" class="d-block">{{ app.user.username }}</a>
							<a href="" class="d-block">
								{% if app.user.roles  == ["ROLE_USER"]%}
									Collaborateurs
								{% else %}
									Administrateur
								{% endif %}

							</a>
						</div>
					</div>

					<!-- SidebarSearch Form -->
					<div class="form-inline">
						<div class="input-group" data-widget="sidebar-search">
							<input class="form-control form-control-sidebar" type="search" placeholder="Rechercher" aria-label="Rechercher">
							<div class="input-group-append">
								<button class="btn btn-sidebar">
									<i class="fas fa-search fa-fw"></i>
								</button>
							</div>
						</div>
					</div>

					<!-- Sidebar Menu -->
					<nav class="mt-2" id="nav">
						<ul
							class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
							<!-- Menu page de demarage avec condition  !-->
							<li class="nav-item">
								{% if app.request.uri  == 'https://127.0.0.1:8000/index' %}
									<a href="/index" class="nav-link active">
									{% else %}
										<a href="/index" class="nav-link">
										{% endif %}
										<i class="nav-icon fas fa-home"></i>
										<!--<i class="nav-icon fas fa-tachometer-alt"></i>-->
										<p>
											Accueil
											<i class="right fas fa-angle-left"></i>
										</p>
									</a>
									<ul class="nav nav-treeview">
										<li class="nav-item">
											<a href="./index" class="nav-link active">
												<i class="far 	fa-circle nav-icon"></i>
												<p>Analyse des problèmes</p>
											</a>
										</li>
										<li class="nav-item">
											<a href="./index" class="nav-link">
												<i class="far fa-circle nav-icon"></i>
												<p>Prévisions / Gestion</p>
											</a>
										</li>

									</ul>
								</li>
							</li>
							<li class="nav-item">
								{% if app.request.uri  == 'https://127.0.0.1:8000/calendar' %}
									<a href="/calendar" class="nav-link active">
									{% else %}
										<a href="/calendar" class="nav-link">
										{% endif %}
										<i class="nav-icon far fa-calendar-alt"></i>
										<p>
											Planification
										</p>
									</a>
								</li>
								<!-- Menu utilisateur avec condition  !-->
								{% if is_granted('ROLE_ADMIN') %}
									<li class="nav-item">
										{% if app.request.uri  == 'https://127.0.0.1:8000/user/' %}
											<a href="https://127.0.0.1:8000/user" class="nav-link active">
											{% else %}
												<a href="https://127.0.0.1:8000/user" class="nav-link">
												{% endif %}
												<i class="nav-icon fas fa-users"></i>
												<p>
													Collaborateurs
												</p>
											</a>
										</li>
									{% endif %}
								</li>
							</li>
							<li class="nav-item">
								{% if app.request.uri  == 'https://127.0.0.1:8000/projet/' %}
									<a href="/projet" class="nav-link active">
									{% else %}
										<a href="/projet" class="nav-link">
										{% endif %}
										<i class="nav-icon fas fa-tasks"></i>
										<p>
											Projets
										</p>
									</a>
								</li>
							</li>
							<li class="nav-item">
								<a href="/imputation" class="nav-link">
									<i class="nav-icon far fa-calendar-check"></i>
									<p>
										Pointage
									</p>
								</a>
							</li>
							<li class="nav-item">
								{% if app.request.uri  == 'https://127.0.0.1:8000/contact' %}
									<a href="/contact" class="nav-link active">
									{% else %}
										<a href="/contact" class="nav-link">
										{% endif %}
										<i class="nav-icon far fa-envelope-open"></i>
										<p>
											Contact
										</p>
									</a>
								</li>
							</li>
						</ul>
					</nav>
					<!-- /.sidebar-menu -->
				</div>
				<!-- /.sidebar -->

			</aside>
			{% block body %}{% endblock %}


			{% block javascripts %}
				<!-- jQuery -->
				<script src="{{asset ("assets/plugins/jquery/jquery.js")}}"></script>
				<!-- Bootstrap 4 -->
				<script src="{{asset ("assets/plugins/bootstrap/js/bootstrap.js")}}"></script>
				<!-- AdminLTE App -->
				<!-- overlayScrollbars -->
				<script src="{{asset ("assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js")}}"></script>
				<script src="{{asset ("assets/js/adminlte.js")}}"></script>
				<!-- OPTIONAL SCRIPTS -->
				<script src="{{asset ("assets/plugins/chart.js/Chart.min.js")}}"></script>
				<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
				<script src="{{asset ("assets/js/pages/dashboard3.js")}}"></script>

				<!-- fullCalendar 2.2.5 -->
				<script src="{{asset ("assets/plugins/moment/moment.min.js")}}"></script>
				<script src="{{asset ("assets/plugins/fullcalendar/main.js")}}"></script>
				<script>
					$(function () { /* initialize the external events
     -----------------------------------------------------------------*/
function ini_events(ele) {
ele.each(function () {

// create an Event Object (https://fullcalendar.io/docs/event-object)
// it doesn't need to have a start or end
var eventObject = {
title: $.trim($(this).text()) // use the element's text as the event title
}

// store the Event Object in the DOM element so we can get to it later
$(this).data('eventObject', eventObject)

// make the event draggable using jQuery UI
$(this).draggable({
zIndex: 1070, revert: true, // will cause the event to go back to its
revertDuration: 0 // original position after the drag
})

})
}

ini_events($('#external-events div.external-event'))

/* initialize the calendar
     -----------------------------------------------------------------*/
// Date for the calendar events (dummy data)
var date = new Date()
var d = date.getDate(),
m = date.getMonth(),
y = date.getFullYear()

var Calendar = FullCalendar.Calendar;
var Draggable = FullCalendar.Draggable;

var containerEl = document.getElementById('external-events');
var checkbox = document.getElementById('drop-remove');
var calendarEl = document.getElementById('calendar');

// initialize the external events
// -----------------------------------------------------------------

new Draggable(containerEl, {
itemSelector: '.external-event',
eventData: function (eventEl) {
return {
title: eventEl.innerText,
backgroundColor: window.getComputedStyle(eventEl, null).getPropertyValue('background-color'),
borderColor: window.getComputedStyle(eventEl, null).getPropertyValue('background-color'),
textColor: window.getComputedStyle(eventEl, null).getPropertyValue('color')
};
}
});

var calendar = new Calendar(calendarEl, {
headerToolbar: {
left: 'prev,next today',
center: 'title',
right: 'dayGridMonth,timeGridWeek,timeGridDay'
},
themeSystem: 'bootstrap',
// Random default events
events: [
{
title: 'All Day Event',
start: new Date(y, m, 1),
backgroundColor: '#f56954', // red
borderColor: '#f56954', // red
allDay: true
},
{
title: 'Long Event',
start: new Date(y, m, d - 5),
end: new Date(y, m, d - 2),
backgroundColor: '#f39c12', // yellow
borderColor: '#f39c12' // yellow
},
{
title: 'Meeting',
start: new Date(y, m, d, 10, 30),
allDay: false,
backgroundColor: '#0073b7', // Blue
borderColor: '#0073b7' // Blue
},
{
title: 'Lunch',
start: new Date(y, m, d, 12, 0),
end: new Date(y, m, d, 14, 0),
allDay: false,
backgroundColor: '#00c0ef', // Info (aqua)
borderColor: '#00c0ef' // Info (aqua)
}, {
title: 'Birthday Party',
start: new Date(y, m, d + 1, 19, 0),
end: new Date(y, m, d + 1, 22, 30),
allDay: false,
backgroundColor: '#00a65a', // Success (green)
borderColor: '#00a65a' // Success (green)
}, {
title: 'Click for Google',
start: new Date(y, m, 28),
end: new Date(y, m, 29),
url: 'https://www.google.com/',
backgroundColor: '#3c8dbc', // Primary (light-blue)
borderColor: '#3c8dbc' // Primary (light-blue)
}
],
editable: true,
droppable: true, // this allows things to be dropped onto the calendar !!!
drop: function (info) { // is the "remove after drop" checkbox checked?
if (checkbox.checked) { // if so, remove the element from the "Draggable Events" list
info.draggedEl.parentNode.removeChild(info.draggedEl);
}
}
});

calendar.render();
// $('#calendar').fullCalendar()

/* ADDING EVENTS */
var currColor = '#3c8dbc'
// Red by default
// Color chooser button
$('#color-chooser > li > a').click(function (e) {
e.preventDefault()
// Save color
currColor = $(this).css('color')
// Add color effect to button
$('#add-new-event').css({'background-color': currColor, 'border-color': currColor})
})
$('#add-new-event').click(function (e) {
e.preventDefault()
// Get value and make sure it is not null
var val = $('#new-event').val()
if (val.length == 0) {
return
}

// Create events
var event = $('<div />')
event.css({'background-color': currColor, 'border-color': currColor, 'color': '#fff'}).addClass('external-event')
event.text(val)
$('#external-events').prepend(event)

// Add draggable funtionality
ini_events(event)

// Remove event from text input
$('#new-event').val('')
})
})
				</script>
			{% endblock %}
		</body>
	</body>
</html></body></html></body></html>
